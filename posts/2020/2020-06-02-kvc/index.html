<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>KVO, KVC and Bindings | Flying blind - coding nonsense</title><meta name=keywords content="macOS,Swift,KVO,KVC,Storyboard,Cocoa,Bindings"><meta name=description content="The original tutorial was published in Cocoa Programming for OS X: The Big Nerd Ranch Guide in April, 2015. As far as I know this was last macOS/AppKit/Cocoa book by Aaron Hillegass, later he published only about iOS/UIKit. Although the book was written for Xcode 6.3 and Swift 1.2 it is a very interesting and useful reading in case you are interested in macOS programming.
We will create a simple Thermostat app with minimal code using KVC."><meta name=author content="Szabolcs Tóth"><link rel=canonical href=https://kicsipixel.github.io/posts/2020/2020-06-02-kvc/><link crossorigin=anonymous href=/assets/css/stylesheet.min.48a18943c2fc15c38a372b8dde1f5e5dc0bc64fa6cb90f5a817d2f8c76b7f3ae.css integrity="sha256-SKGJQ8L8FcOKNyuN3h9eXcC8ZPpsuQ9agX0vjHa3864=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://kicsipixel.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://kicsipixel.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://kicsipixel.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://kicsipixel.github.io/apple-touch-icon.png><link rel=mask-icon href=https://kicsipixel.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="KVO, KVC and Bindings"><meta property="og:description" content="The original tutorial was published in Cocoa Programming for OS X: The Big Nerd Ranch Guide in April, 2015. As far as I know this was last macOS/AppKit/Cocoa book by Aaron Hillegass, later he published only about iOS/UIKit. Although the book was written for Xcode 6.3 and Swift 1.2 it is a very interesting and useful reading in case you are interested in macOS programming.
We will create a simple Thermostat app with minimal code using KVC."><meta property="og:type" content="article"><meta property="og:url" content="https://kicsipixel.github.io/posts/2020/2020-06-02-kvc/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-06-02T00:00:00+00:00"><meta property="article:modified_time" content="2020-06-02T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="KVO, KVC and Bindings"><meta name=twitter:description content="The original tutorial was published in Cocoa Programming for OS X: The Big Nerd Ranch Guide in April, 2015. As far as I know this was last macOS/AppKit/Cocoa book by Aaron Hillegass, later he published only about iOS/UIKit. Although the book was written for Xcode 6.3 and Swift 1.2 it is a very interesting and useful reading in case you are interested in macOS programming.
We will create a simple Thermostat app with minimal code using KVC."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://kicsipixel.github.io/posts/"},{"@type":"ListItem","position":3,"name":"KVO, KVC and Bindings","item":"https://kicsipixel.github.io/posts/2020/2020-06-02-kvc/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"KVO, KVC and Bindings","name":"KVO, KVC and Bindings","description":"The original tutorial was published in Cocoa Programming for OS X: The Big Nerd Ranch Guide in April, 2015. As far as I know this was last macOS/AppKit/Cocoa book by Aaron Hillegass, later he published only about iOS/UIKit. Although the book was written for Xcode 6.3 and Swift 1.2 it is a very interesting and useful reading in case you are interested in macOS programming.\nWe will create a simple Thermostat app with minimal code using KVC.","keywords":["macOS","Swift","KVO","KVC","Storyboard","Cocoa","Bindings"],"articleBody":"The original tutorial was published in Cocoa Programming for OS X: The Big Nerd Ranch Guide in April, 2015. As far as I know this was last macOS/AppKit/Cocoa book by Aaron Hillegass, later he published only about iOS/UIKit. Although the book was written for Xcode 6.3 and Swift 1.2 it is a very interesting and useful reading in case you are interested in macOS programming.\nWe will create a simple Thermostat app with minimal code using KVC.\nOur final app will look like this. Step 1. Create a Swift project with Storyboard and add the following components:\nNSSlider Label (NSTextField) 2 x NSButton NSSwitch to Main.storyboard. Step 2. Add a variable to ViewController.swift.\n@objc dynamic var temperature: Int = 68 Step 3. Select NSSlider and Click on ‘Show the Bindings Inspector’. In the Value field, set ‘Bind to’ to ‘View Controller’ and set the Model Key Path to ’temperature’. Do not forget to change the Control State to ‘Continous’ on the Attribute inspector. Step 4. Select Label(NSTextField) and Click on ‘Show the Bindings Inspector’. In the Value field, set ‘Bind to’ to ‘View Controller’ and set the Model Key Path to ’temperature’. If you run the app now, you can see that changing the slider value will change the value of the NSTextField.\nStep 5. Holding ‘CTRL’ connect both NSButtons to ViewController.swift as @IBAction. The code will be very simple to increase or decrease temperature:\n@IBAction func coolerPressed(_ sender: Any) { temperature -= 1 } @IBAction func warmerPressed(_ sender: Any) { temperature += 1 } This time you can change the value of the temperature with buttons as well, not only the slider.\nStep 6. We would like to create an ‘ON/OFF’ switch, so we can turn off our thermostat.\nAdd a Boolean variable to ViewController.swift.\n@objc dynamic var isItOn: Bool = true Select NSSwitch and Click on ‘Show the Bindings Inspector’. In the Value field, set ‘Bind to’ to ‘View Controller’ and set the Model Key Path to ‘isItOn’.\nStep 7. To make our switch work, we need to bind it to the slider. So select NSSlider and Click on ‘Show the Bindings Inspector’ again, but this time bind the ‘Availability’/‘Enabled’ to ‘View Controller’ Run the application, using the switch you can disable the slider. Source code: Github\nSources:\nNate Chandler, Adam Preble, Aaron Hillegass - Cocoa Programming for OS X: The Big Nerd Ranch Guide Lucas Derraugh- Cocoa Explorations - Swifty Cocoa Bindings ","wordCount":"405","inLanguage":"en","datePublished":"2020-06-02T00:00:00Z","dateModified":"2020-06-02T00:00:00Z","author":[{"@type":"Person","name":"Szabolcs Tóth"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://kicsipixel.github.io/posts/2020/2020-06-02-kvc/"},"publisher":{"@type":"Organization","name":"Flying blind - coding nonsense","logo":{"@type":"ImageObject","url":"https://kicsipixel.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://kicsipixel.github.io accesskey=h title="Flying blind - coding nonsense (Alt + H)">Flying blind - coding nonsense</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://kicsipixel.github.io>Home</a>&nbsp;»&nbsp;<a href=https://kicsipixel.github.io/posts/>Posts</a></div><h1 class=post-title>KVO, KVC and Bindings</h1><div class=post-meta><span title='2020-06-02 00:00:00 +0000 UTC'>June 2, 2020</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Szabolcs Tóth</div></header><div class=post-content><p>The original tutorial was published in Cocoa Programming for OS X: The Big Nerd Ranch Guide in April, 2015. As far as I know this was last macOS/AppKit/Cocoa book by Aaron Hillegass, later he published only about iOS/UIKit. Although the book was written for Xcode 6.3 and Swift 1.2 it is a very interesting and useful reading in case you are interested in macOS programming.</p><p>We will create a simple Thermostat app with minimal code using <a href=https://developer.apple.com/library/archive/documentation/General/Conceptual/DevPedia-CocoaCore/KeyValueCoding.html>KVC</a>.</p><p>Our final app will look like this.
<img loading=lazy src=/images/KVC.png alt=KVC_final></p><p><strong>Step 1.</strong>
Create a Swift project with Storyboard and add the following components:</p><ul><li>NSSlider</li><li>Label (NSTextField)</li><li>2 x NSButton</li><li>NSSwitch</li></ul><p>to <code>Main.storyboard</code>.
<img loading=lazy src=/images/KVC1.png alt=KVC1></p><p><strong>Step 2.</strong>
Add a variable to <code>ViewController.swift</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>@objc</span> <span style=color:#66d9ef>dynamic</span> <span style=color:#66d9ef>var</span> temperature: Int = <span style=color:#ae81ff>68</span>
</span></span></code></pre></div><p><strong>Step 3.</strong>
Select NSSlider and Click on &lsquo;Show the Bindings Inspector&rsquo;.
In the Value field, set &lsquo;Bind to&rsquo; to &lsquo;View Controller&rsquo; and set the Model Key Path to &rsquo;temperature&rsquo;.
<img loading=lazy src=/images/KVC2.png alt=KVC2></p><p>Do not forget to change the Control State to &lsquo;Continous&rsquo; on the Attribute inspector.
<img loading=lazy src=/images/KVC21.png alt=KVC21></p><p><strong>Step 4.</strong>
Select Label(NSTextField) and Click on &lsquo;Show the Bindings Inspector&rsquo;.
In the Value field, set &lsquo;Bind to&rsquo; to &lsquo;View Controller&rsquo; and set the Model Key Path to &rsquo;temperature&rsquo;.
<img loading=lazy src=/images/KVC3.png alt=KVC3></p><p>If you run the app now, you can see that changing the slider value will change the value of the NSTextField.</p><p><strong>Step 5.</strong>
Holding &lsquo;CTRL&rsquo; connect both NSButtons to <code>ViewController.swift</code> as <code>@IBAction</code>.
The code will be very simple to increase or decrease temperature:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span> <span style=color:#66d9ef>@IBAction</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>coolerPressed</span>(<span style=color:#66d9ef>_</span> sender: Any) {
</span></span><span style=display:flex><span>        temperature <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    }
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span>  <span style=color:#66d9ef>@IBAction</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>warmerPressed</span>(<span style=color:#66d9ef>_</span> sender: Any) {
</span></span><span style=display:flex><span>        temperature <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    }
</span></span></code></pre></div><p>This time you can change the value of the temperature with buttons as well, not only the slider.</p><p><strong>Step 6.</strong>
We would like to create an &lsquo;ON/OFF&rsquo; switch, so we can turn off our thermostat.</p><p>Add a Boolean variable to <code>ViewController.swift</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>@objc</span> <span style=color:#66d9ef>dynamic</span> <span style=color:#66d9ef>var</span> isItOn: Bool = <span style=color:#66d9ef>true</span>
</span></span></code></pre></div><p>Select NSSwitch and Click on &lsquo;Show the Bindings Inspector&rsquo;.
In the Value field, set &lsquo;Bind to&rsquo; to &lsquo;View Controller&rsquo; and set the Model Key Path to &lsquo;isItOn&rsquo;.</p><p><img loading=lazy src=/images/KVC4.png alt=KVC4></p><p><strong>Step 7.</strong>
To make our switch work, we need to bind it to the slider. So select NSSlider and Click on &lsquo;Show the Bindings Inspector&rsquo; again, but this time bind the &lsquo;Availability&rsquo;/&lsquo;Enabled&rsquo; to &lsquo;View Controller&rsquo;
<img loading=lazy src=/images/KVC5.png alt=KVC5></p><p>Run the application, using the switch you can disable the slider.
<img loading=lazy src=/images/KVC6.png alt=KVC5></p><p>Source code: <a href=https://github.com/kicsipixel/Cocoa-Samples/tree/master/KVC>Github</a></p><p><em>Sources</em>:</p><ol><li><a href=https://www.oreilly.com/library/view/cocoa-programming-for/9780134077130>Nate Chandler, Adam Preble, Aaron Hillegass - Cocoa Programming for OS X: The Big Nerd Ranch Guide</a></li><li><a href="https://www.youtube.com/watch?v=7prw9BH1bRo">Lucas Derraugh- Cocoa Explorations - Swifty Cocoa Bindings</a></li></ol></div><footer class=post-footer><ul class=post-tags><li><a href=https://kicsipixel.github.io/tags/macOS/>macOS</a></li><li><a href=https://kicsipixel.github.io/tags/Swift/>Swift</a></li><li><a href=https://kicsipixel.github.io/tags/KVO/>KVO</a></li><li><a href=https://kicsipixel.github.io/tags/KVC/>KVC</a></li><li><a href=https://kicsipixel.github.io/tags/Storyboard/>Storyboard</a></li><li><a href=https://kicsipixel.github.io/tags/Cocoa/>Cocoa</a></li><li><a href=https://kicsipixel.github.io/tags/Bindings/>Bindings</a></li></ul><nav class=paginav><a class=prev href=https://kicsipixel.github.io/posts/2020/2020-07-08-meetb/><span class=title>« Prev Page</span><br><span>Mee.TB - my first app in Mac App Store.</span></a>
<a class=next href=https://kicsipixel.github.io/posts/2020/2020-04-30-bindings/><span class=title>Next Page »</span><br><span>NSTableView with Cocoa Bindings</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://kicsipixel.github.io>Flying blind - coding nonsense</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>